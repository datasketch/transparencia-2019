library(tidyverse)
library(openxlsx)
library(jsonlite)
casosUrl <- "http://50.31.146.35/~wwwmonit/monitorCorrupcion/admin/api/reporte/vistasApi.php?flag=casos"
casos <- fromJSON(casosUrl)
unique(casos$caso_emblematico)
casos <- map_df(casos, trimws)
unique(casos$caso_emblematico)
territorio <- casos %>%
filter(caso_emblematico == "Territorios de concentración/consolidación")
unique(territorio$id_derecho_vulnerado)
info <- casos %>%
filter(caso_emblematico == "informe II 2016-2018")
unique(info$id_derecho_vulnerado)
2019 - 1990
unique(info$autoridad_politica)
unique(info$id_rango_dinero)
info$id_derecho_vulnerado <- plyr::revalue(info$id_derecho_vulnerado,
c("1" = "Derechos sociales, económicos y culturales",
"2" = "Derechos fundamentales, civiles y políticos",
"3" = "Derechos colectivos y del medio ambiente",
"4" = "No Aplica"))
info$autoridad_politica <- plyr::revalue(info$autoridad_politica,
c("1" = "Sí",
"0" = "No"))
func_paste <- function(x) paste(unique(x), collapse = '. ')
map(info[,1:3], unique)
map(info[,4:8], unique)
map(info[,9:11], unique)
map(info[,12:15], unique)
map(info[,16:19], unique)
map(info[,20:23], unique)
map(info[,24:27], unique)
map(info[,28:31], unique)
write_csv(info, "app/data/clean/casos_all_data.csv")
func_paste <- function(x) paste(unique(x), collapse = '. ')
casos <- casos %>%
group_by(id_caso) %>%
summarise_each(funs(func_paste))
info <- info %>%
group_by(id_caso) %>%
summarise_each(funs(func_paste))
View(info)
370/10
370/6
unique(info$longitud)
unique(info$hecho)
unique(info$dinero_juego)
unique(info$dinero_apropiado)
unique(info$dinero_apropiado)
unique(info$dinero_recuperado)
unique(info$id_caso_emblematico)
unique(info$fecha_registro)
unique(info$fecha_informacion_actualizada)
unique(info$publico)
unique(info$activo)
unique(info$subtitulo_publico)
unique(info$no_disponible_dinero_juego)
unique(info$no_disponible_dinero_apropiado)
unique(info$no_disponible_dinero_recuperado)
unique(info$id_rango_dinero)
unique(info$id_derecho_vulnerado)
unique(info$nombre_publico)
unique(info$subtituloPublico)
unique(info$nombre_actor)
unique(info$tipo_participacion)
unique(info$tipo_actor_individual)
